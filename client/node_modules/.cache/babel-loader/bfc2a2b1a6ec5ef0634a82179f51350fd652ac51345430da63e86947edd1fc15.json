{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\16132\\\\work-space\\\\enterpenur\\\\meal-app\\\\client\\\\src\\\\components\\\\RecipeSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport Recipe from \"./Recipe\";\nimport { AuthContext } from '../context/AuthContext'; // Import context if needed\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecipeSearch = () => {\n  _s();\n  const APP_ID = \"6d6687a7\"; // Replace with your actual APP ID\n  const APP_KEY = \"276a106691ab94fd9dec2d5082fe0965\"; // Replace with your actual APP Key\n\n  const [recipes, setRecipes] = useState([]);\n  const [search, setSearch] = useState('');\n  const [query, setQuery] = useState(\"\"); // Set to an empty string or default search term\n  const [profile, setProfile] = useState({\n    tastePreferences: '',\n    dietaryRestrictions: [],\n    preferredCuisines: [],\n    mealTypes: [],\n    shoppingFrequency: ''\n  }); // Define profile state\n  const {\n    user\n  } = useContext(AuthContext); // If you're using the AuthContext\n  const getRecipes = useCallback(async () => {\n    try {\n      const queryParameters = {\n        q: profile.tastePreferences || \"indian\",\n        // Use tastePreferences from profile\n        app_id: APP_ID,\n        app_key: APP_KEY\n      };\n      console.log(\"queryParameters\", queryParameters);\n      const response = await axios.get('https://api.edamam.com/search', {\n        params: queryParameters\n      });\n      const data = response.data;\n      setRecipes(data.hits);\n    } catch (error) {\n      console.error(error);\n    }\n  }, [profile.tastePreferences, APP_ID, APP_KEY]);\n  useEffect(() => {\n    console.log(\"user\", user);\n    if (user) {\n      // Set the profile preferences from the user's profile\n      setProfile({\n        tastePreferences: user.tastePreferences || '' // Use the appropriate property from user profile\n      });\n    } else {\n      getRecipes();\n    }\n  }, [user, getRecipes]);\n  const updateSearch = e => {\n    setSearch(e.target.value);\n  };\n  const getSearch = e => {\n    e.preventDefault();\n    setQuery(search);\n  };\n  const cuisines = {};\n  recipes.forEach(recipe => {\n    const cuisine = recipe.recipe.cuisineType || \"Other\"; // Use \"Other\" if cuisineType is not available\n    if (!cuisines[cuisine]) {\n      cuisines[cuisine] = [];\n    }\n    cuisines[cuisine].push(recipe);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: getSearch,\n      className: \"search-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: search,\n        onChange: updateSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), Object.keys(cuisines).map(cuisine => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: cuisine\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-grid\",\n        children: cuisines[cuisine].map(recipe => /*#__PURE__*/_jsxDEV(Recipe, {\n          title: recipe.recipe.label,\n          calories: recipe.recipe.calories,\n          image: recipe.recipe.image,\n          ingredients: recipe.recipe.ingredients\n        }, recipe.recipe.label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, cuisine, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(RecipeSearch, \"Rip/zZFEY0rwelPzuQj0Ny5gnlg=\");\n_c = RecipeSearch;\nexport default RecipeSearch;\nvar _c;\n$RefreshReg$(_c, \"RecipeSearch\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useCallback","Recipe","AuthContext","axios","jsxDEV","_jsxDEV","RecipeSearch","_s","APP_ID","APP_KEY","recipes","setRecipes","search","setSearch","query","setQuery","profile","setProfile","tastePreferences","dietaryRestrictions","preferredCuisines","mealTypes","shoppingFrequency","user","getRecipes","queryParameters","q","app_id","app_key","console","log","response","get","params","data","hits","error","updateSearch","e","target","value","getSearch","preventDefault","cuisines","forEach","recipe","cuisine","cuisineType","push","children","onSubmit","className","type","onChange","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","map","title","label","calories","image","ingredients","_c","$RefreshReg$"],"sources":["C:/Users/16132/work-space/enterpenur/meal-app/client/src/components/RecipeSearch.js"],"sourcesContent":["import React, { useEffect, useState, useContext, useCallback } from \"react\";\r\nimport Recipe from \"./Recipe\";\r\nimport { AuthContext } from '../context/AuthContext'; // Import context if needed\r\nimport axios from 'axios';\r\n\r\nconst RecipeSearch = () => {\r\n  const APP_ID = \"6d6687a7\"; // Replace with your actual APP ID\r\n  const APP_KEY = \"276a106691ab94fd9dec2d5082fe0965\"; // Replace with your actual APP Key\r\n\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [query, setQuery] = useState(\"\"); // Set to an empty string or default search term\r\n  const [profile, setProfile] = useState({\r\n    tastePreferences: '',\r\n    dietaryRestrictions: [],\r\n    preferredCuisines: [],\r\n    mealTypes: [],\r\n    shoppingFrequency: '',\r\n  }); // Define profile state\r\n  const { user } = useContext(AuthContext); // If you're using the AuthContext\r\n  const getRecipes = useCallback(async () => {\r\n    try {\r\n      const queryParameters = {\r\n        q: profile.tastePreferences || \"indian\", // Use tastePreferences from profile\r\n        app_id: APP_ID,\r\n        app_key: APP_KEY,\r\n      };\r\n      console.log(\"queryParameters\",queryParameters)\r\n      const response = await axios.get('https://api.edamam.com/search', {\r\n        params: queryParameters,\r\n      });\r\n      const data = response.data;\r\n      setRecipes(data.hits);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [profile.tastePreferences, APP_ID, APP_KEY]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"user\",user)\r\n    if (user) {\r\n      // Set the profile preferences from the user's profile\r\n      setProfile({\r\n        tastePreferences: user.tastePreferences || '', // Use the appropriate property from user profile\r\n      });\r\n    } else {\r\n      getRecipes();\r\n    }\r\n  }, [user, getRecipes]);\r\n\r\n  const updateSearch = e => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const getSearch = e => {\r\n    e.preventDefault();\r\n    setQuery(search);\r\n  };\r\n\r\n  const cuisines = {};\r\n\r\n  recipes.forEach(recipe => {\r\n    const cuisine = recipe.recipe.cuisineType || \"Other\"; // Use \"Other\" if cuisineType is not available\r\n    if (!cuisines[cuisine]) {\r\n      cuisines[cuisine] = [];\r\n    }\r\n\r\n    cuisines[cuisine].push(recipe);\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={getSearch} className=\"search-form\">\r\n        <input\r\n          type=\"text\"\r\n          value={search}\r\n          onChange={updateSearch}\r\n        />\r\n        <button type=\"submit\">Search</button>\r\n      </form>\r\n\r\n      {Object.keys(cuisines).map(cuisine => (\r\n        <div key={cuisine}>\r\n          <h2>{cuisine}</h2>\r\n          <div className=\"recipe-grid\">\r\n            {cuisines[cuisine].map(recipe => (\r\n              <Recipe\r\n                key={recipe.recipe.label}\r\n                title={recipe.recipe.label}\r\n                calories={recipe.recipe.calories}\r\n                image={recipe.recipe.image}\r\n                ingredients={recipe.recipe.ingredients}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecipeSearch;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}